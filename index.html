<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine Surprise - Enhanced Edition</title>

<!-- Romantic Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        margin: 0;
        overflow: hidden;
        background: linear-gradient(135deg, #ff9a9e, #fecfef, #ffecd2);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        font-family: 'Poppins', sans-serif;
        min-height: 100vh;
        width: 100vw;
        position: relative;
    }

    @keyframes gradientShift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    /* Floating hearts animation */
    .heart {
        position: fixed;
        bottom: -10px;
        font-size: 20px;
        animation: floatUp 6s linear infinite;
        opacity: 0.8;
        pointer-events: none;
        z-index: 1;
        will-change: transform;
    }

    @keyframes floatUp {
        0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 0.8; }
        100% { transform: translateY(-120vh) scale(1.8) rotate(360deg); opacity: 0; }
    }

    /* Centered container for screens */
    .screen {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        padding: 40px;
        border-radius: 25px;
        width: 90%;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        animation: fadeIn 1s ease;
        z-index: 10;
    }

    h2 {
        font-family: 'Pacifico', cursive;
        color: #e63950;
        font-size: 32px;
        margin-bottom: 25px;
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    .buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
        flex-wrap: wrap;
    }

    button {
        padding: 15px 30px;
        border: none;
        border-radius: 30px;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        font-family: 'Poppins', sans-serif;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
        -webkit-user-select: none;
    }

    #yesBtn {
        background: linear-gradient(135deg, #ff4d6d, #ff758c);
        color: white;
        box-shadow: 0 8px 20px rgba(255, 77, 109, 0.5);
        transform: scale(1);
        animation: glow 2s ease-in-out infinite;
        position: relative;
        z-index: 50;
    }

    @keyframes glow {
        0%, 100% { box-shadow: 0 8px 20px rgba(255, 77, 109, 0.5); }
        50% { box-shadow: 0 8px 30px rgba(255, 77, 109, 0.8), 0 0 20px rgba(255, 77, 109, 0.6); }
    }

    #yesBtn:hover {
        transform: scale(1.05);
        background: linear-gradient(135deg, #e63950, #ff4d6d);
    }

    #noBtn {
        background-color: #ffd1dc;
        color: #e63950;
        position: relative;
        box-shadow: 0 5px 15px rgba(255, 209, 220, 0.5);
        transition: all 0.2s ease;
    }

    #noBtn:hover {
        background-color: #ffb3c1;
    }

    /* No button when it starts moving */
    #noBtn.moving {
        position: fixed;
        transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* No button text animations */
    #noBtn.teasing {
        animation: wiggle 0.5s ease-in-out;
    }

    @keyframes wiggle {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-5deg); }
        75% { transform: rotate(5deg); }
    }

    #message {
        font-size: 20px;
        color: #e63950;
        font-weight: 600;
        margin-top: 20px;
        line-height: 1.6;
    }

    /* Taunt messages */
    #tauntMessage {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 255, 255, 0.95);
        padding: 15px 30px;
        border-radius: 25px;
        color: #e63950;
        font-weight: 600;
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        z-index: 9999;
        animation: slideUp 0.5s ease;
        max-width: 90%;
        text-align: center;
    }

    @keyframes slideUp {
        from { transform: translateX(-50%) translateY(100px); opacity: 0; }
        to { transform: translateX(-50%) translateY(0); opacity: 1; }
    }

    /* Second screen styling */
    #secondScreen {
        display: none;
        max-width: 600px;
    }

    .celebration-gif {
        width: 80%;
        max-width: 290px;
        margin: 20px auto;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        object-fit: contain;
        margin: 15px auto;
        display: block;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translate(-50%, -40%) scale(0.9); }
        to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }

    /* Confetti */
    .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: #ff4d6d;
        top: -10px;
        animation: confettiFall 3s linear;
        z-index: 1;
        will-change: transform;
    }

    @keyframes confettiFall {
        to {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }

    /* Fireworks effect */
    .firework {
        position: fixed;
        width: 4px;
        height: 4px;
        border-radius: 50%;
        animation: fireworkExplode 1s ease-out forwards;
        z-index: 1;
        will-change: transform;
    }

    @keyframes fireworkExplode {
        0% {
            transform: translate(0, 0);
            opacity: 1;
        }
        100% {
            transform: translate(var(--tx), var(--ty));
            opacity: 0;
        }
    }

    /* Progress indicator for No button */
    #progressIndicator {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.9);
        padding: 15px 25px;
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        font-weight: 600;
        color: #e63950;
        z-index: 9999;
        display: none;
    }

    /* Shake animation for screen */
    .shake {
        animation: shake 0.5s;
    }

    @keyframes shake {
        0%, 100% { transform: translate(-50%, -50%); }
        25% { transform: translate(-52%, -50%); }
        75% { transform: translate(-48%, -50%); }
    }

    /* Mobile optimizations */
    @media (max-width: 600px) {
        .screen {
            padding: 30px 20px;
            width: 95%;
        }

        h2 {
            font-size: 26px;
        }

        button {
            padding: 12px 24px;
            font-size: 16px;
        }

        #progressIndicator {
            top: 10px;
            right: 10px;
            padding: 10px 15px;
            font-size: 14px;
        }
    }

    /* Prevent text selection and dragging */
    body {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
</style>
</head>

<body>

<!-- Background Music -->
<audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/download/audio/2023/03/14/audio_6e3f3f1e4d.mp3?filename=romantic-love-144094.mp3" type="audio/mpeg">
</audio>

<!-- Celebration Sound -->
<audio id="celebrationSound">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4c35b8e6e4.mp3?filename=success-fanfare-trumpets-6185.mp3" type="audio/mpeg">
</audio>

<!-- Progress Indicator -->
<div id="progressIndicator">Escape Attempts: <span id="attemptCount">0</span></div>

<!-- FIRST SCREEN -->
<div id="firstScreen" class="screen">
    <h2 id="question">Will you be my valentine? üíù</h2>
    <p style="color: #666; font-size: 16px; margin-top: 10px;">Choose wisely... üòè</p>

    <div class="buttons">
        <button id="yesBtn">Yes! üíï</button>
        <button id="noBtn">No</button>
    </div>
</div>

<!-- SECOND SCREEN -->
<div id="secondScreen" class="screen">
    <h2>I knew it! üéâ</h2>
    
    <img src="Valentines Giphy.gif"
         alt="Celebration" 
         class="celebration-gif"
         onerror="this.style.display='none'">
    
    <p id="message">
        Congratulations Darpan! You are now officially<br>
        <strong style="font-size: 24px; color: #ff4d6d;">Siddhi's Valentine ‚ù§Ô∏è</strong><br>
        forever and always! üíë
    </p>
    
    <p style="color: #666; font-size: 14px; margin-top: 20px;">
        (I mean, we both knew you'd say yes eventually üòÑ)
    </p>
</div>

<script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const firstScreen = document.getElementById("firstScreen");
    const secondScreen = document.getElementById("secondScreen");
    const bgMusic = document.getElementById("bgMusic");
    const celebrationSound = document.getElementById("celebrationSound");
    const progressIndicator = document.getElementById("progressIndicator");
    const attemptCount = document.getElementById("attemptCount");

    let noHoverCount = 0;
    let yesButtonScale = 1;
    let tauntTimeout = null;
    let isMoving = false;

    // Funny taunt messages for button text changes
    const buttonTexts = [
        "No",
        "No",
        "Nice try! üòè",
        "You can't catch me! üèÉ‚Äç‚ôÄÔ∏è",
        "Still trying? üòÇ",
        "Nope! üí®",
        "Too slow! ‚ö°",
        "Give up yet? üòé",
        "Never! üéØ",
        "Not happening! üö´",
        "Dream on! ‚ú®",
        "Impossible! ü¶Ñ",
        "LOL üòÖ",
        "Just say yes! üíï"
    ];

    // Taunt messages that appear at bottom
    const tauntMessages = [
        "Really? You're gonna make me work for this? üòè",
        "The 'No' button is just decoration, you know... üíÖ",
        "Come on, we both know how this ends! üíï",
        "Seriously? You think you can escape? üòÇ",
        "I've got all day... and that button is getting harder to catch! üèÉ‚Äç‚ôÄÔ∏è",
        "Your mouse skills are impressive, but futile! üéØ",
        "Plot twist: The 'No' button was a lie all along! ü§•",
        "This is getting ridiculous... just say yes! üòÖ",
        "Are you training for the Mouse Olympics or something? üèÖ",
        "Fine, you win the cardio contest. Now say YES! üí™",
        "Even Cupid is getting tired of waiting... üèπ",
        "Breaking news: Local person still in denial! üì∞",
        "I admire your persistence... but YES is inevitable! ‚è∞",
        "This is like trying to avoid your feelings... impossible! üí≠",
        "Fun fact: 100% of people who click YES are happy! üìä"
    ];

    // Calculate safe movement boundaries
    function getSafeBoundaries() {
        const screenRect = firstScreen.getBoundingClientRect();
        const btnRect = noBtn.getBoundingClientRect();
        
        // Define the play area (within the screen container but with padding)
        const padding = 20; // Padding from screen edges
        const minX = screenRect.left + padding;
        const maxX = screenRect.right - btnRect.width - padding;
        const minY = screenRect.top + padding + 100; // Extra space for title
        const maxY = screenRect.bottom - btnRect.height - padding;
        
        return { minX, maxX, minY, maxY };
    }

    // Move button to random safe position
    function moveButton() {
        if (!isMoving) return;
        
        const boundaries = getSafeBoundaries();
        
        // Calculate random position within boundaries
        const newX = boundaries.minX + Math.random() * (boundaries.maxX - boundaries.minX);
        const newY = boundaries.minY + Math.random() * (boundaries.maxY - boundaries.minY);
        
        noBtn.style.left = `${newX}px`;
        noBtn.style.top = `${newY}px`;
    }

    // Start music on first interaction
    function startMusic() {
        bgMusic.play().catch(() => {});
        document.removeEventListener("click", startMusic);
        document.removeEventListener("touchstart", startMusic);
    }
    document.addEventListener("click", startMusic);
    document.addEventListener("touchstart", startMusic);

    // YES BUTTON ‚Üí Show second screen with celebration
    yesBtn.addEventListener("click", () => {
        // Play celebration sound
        celebrationSound.play().catch(() => {});
        
        // Hide first screen
        firstScreen.style.display = "none";
        secondScreen.style.display = "block";
        
        // Create confetti explosion
        createConfetti();
        
        // Create fireworks
        setTimeout(() => createFireworks(), 500);
        setTimeout(() => createFireworks(), 1000);
        setTimeout(() => createFireworks(), 1500);
        
        // Hide progress indicator
        progressIndicator.style.display = "none";
    });

    // NO BUTTON ‚Üí Handle hover/touch with improved boundary control
    function handleNoButtonInteraction() {
        noHoverCount++;
        attemptCount.textContent = noHoverCount;
        
        // Show progress indicator after first hover
        if (noHoverCount === 1) {
            progressIndicator.style.display = "block";
        }

        // Change button text
        if (noHoverCount < buttonTexts.length) {
            noBtn.textContent = buttonTexts[noHoverCount];
        }

        // Add wiggle animation
        if (noHoverCount >= 2) {
            noBtn.classList.add('teasing');
            setTimeout(() => noBtn.classList.remove('teasing'), 500);
        }

        // Grow the Yes button progressively
        yesButtonScale += 0.1;
        yesBtn.style.transform = `scale(${yesButtonScale})`;
        
        // Update Yes button text based on size
        if (noHoverCount === 4) {
            yesBtn.textContent = "YES! üíï (Getting warmer...)";
        } else if (noHoverCount === 8) {
            yesBtn.textContent = "YES YES YES! üíïüíï";
        } else if (noHoverCount === 12) {
            yesBtn.textContent = "OBVIOUSLY YES! üíïüíïüíï";
            yesBtn.style.fontSize = "22px";
        }

        // Start moving after 2 attempts
        if (noHoverCount >= 2) {
            if (!isMoving) {
                noBtn.classList.add('moving');
                isMoving = true;
            }
            moveButton();
        }

        // Show taunt messages
        if (noHoverCount >= 3 && noHoverCount <= 17) {
            const messageIndex = Math.min(noHoverCount - 3, tauntMessages.length - 1);
            showTauntMessage(tauntMessages[messageIndex]);
        }

        // Add shake effect to screen
        if (noHoverCount % 5 === 0) {
            firstScreen.classList.add('shake');
            setTimeout(() => firstScreen.classList.remove('shake'), 500);
        }

        // Make button faster after 8 attempts
        if (noHoverCount > 8) {
            noBtn.style.transition = "all 0.1s cubic-bezier(0.4, 0, 0.2, 1)";
        }
    }

    // Mouse events
    noBtn.addEventListener("mouseenter", handleNoButtonInteraction);
    
    // Touch events for mobile
    noBtn.addEventListener("touchstart", (e) => {
        e.preventDefault();
        handleNoButtonInteraction();
    });

    // Prevent clicking No button (just for fun)
    noBtn.addEventListener("click", (e) => {
        e.preventDefault();
        handleNoButtonInteraction();
        showTauntMessage("Clicking won't help! The only way out is to say YES! üíù");
    });

    // Show taunt message
    function showTauntMessage(message) {
        // Remove existing taunt
        const existing = document.getElementById("tauntMessage");
        if (existing) existing.remove();
        
        const taunt = document.createElement("div");
        taunt.id = "tauntMessage";
        taunt.textContent = message;
        document.body.appendChild(taunt);

        if (tauntTimeout) clearTimeout(tauntTimeout);
        tauntTimeout = setTimeout(() => {
            if (taunt.parentNode) taunt.remove();
        }, 3000);
    }

    // Floating hearts generator
    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        const heartSymbols = ["‚ù§Ô∏è", "üíï", "üíñ", "üíó", "üíù", "üíò"];
        heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = (15 + Math.random() * 15) + "px";
        heart.style.animationDuration = (4 + Math.random() * 4) + "s";

        document.body.appendChild(heart);
        setTimeout(() => {
            if (heart.parentNode) heart.remove();
        }, 8000);
    }

    setInterval(createHeart, 500);

    // Confetti explosion
    function createConfetti() {
        const colors = ['#ff4d6d', '#ffd1dc', '#ffb3c1', '#ff758c', '#fecfef'];
        
        for (let i = 0; i < 100; i++) {
            setTimeout(() => {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = Math.random() * 100 + "vw";
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (2 + Math.random() * 2) + "s";
                confetti.style.animationDelay = Math.random() * 0.5 + "s";
                
                document.body.appendChild(confetti);
                setTimeout(() => {
                    if (confetti.parentNode) confetti.remove();
                }, 4000);
            }, i * 20);
        }
    }

    // Fireworks effect
    function createFireworks() {
        const colors = ['#ff4d6d', '#ffd1dc', '#ffb3c1', '#ff758c'];
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * (window.innerHeight / 2);
        
        for (let i = 0; i < 30; i++) {
            const firework = document.createElement("div");
            firework.classList.add("firework");
            firework.style.left = x + "px";
            firework.style.top = y + "px";
            firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            const angle = (Math.PI * 2 * i) / 30;
            const velocity = 50 + Math.random() * 100;
            const tx = Math.cos(angle) * velocity;
            const ty = Math.sin(angle) * velocity;
            
            firework.style.setProperty('--tx', tx + 'px');
            firework.style.setProperty('--ty', ty + 'px');
            
            document.body.appendChild(firework);
            setTimeout(() => {
                if (firework.parentNode) firework.remove();
            }, 1200);
        }
    }

    // Handle window resize - recalculate boundaries
    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            if (isMoving) {
                moveButton();
            }
        }, 100);
    });
</script>

</body>
</html>
